from matplotlib import pyplot as plt

if __name__ == '__main__':
    plt.rcParams['font.sans-serif'] = ['SimHei'] #显示中文
    fig, axs = plt.subplots(4, 4, sharey='row', figsize=(8,8))

    """totaldelay"""
    # N
    axs[0,0].errorbar(
        [30, 50, 65, 80, 100], [39522.7, 25918.7, 32944.8, 22398.2, 23479.0], yerr=[7721.3245, 6686.863, 5980.912, 5980.912, 5980.912]
    )
    axs[0,0].set_ylabel('最小化总拖期时长/min')
    axs[0,0].set_xticks([30, 50, 65, 80, 100])
    # N0
    axs[0,1].errorbar(
        [10, 20, 30, 50, 60], [25765.360, 25476.360, 29883.520, 34260.750, 24561.267], yerr=[5980.912235, 5980.912235, 5980.912235, 6686.863163, 7721.324494]
    )
    axs[0,1].set_xticks([10, 20, 30, 50, 60])
    # T
    axs[0,2].errorbar(
        [100, 200, 300, 400, 500], [33756.640, 35955.600, 23850.400, 28943.450, 18514.400], yerr=[5980.912235, 6686.863163, 6686.863163, 6686.863163, 5980.912235]
    )
    axs[0,2].set_xticks([100, 200, 300, 400, 500])
    # k
    axs[0,3].errorbar(
        [2, 3, 4], [32096.867, 24363.825, 26514.120], yerr=[4457.908775, 4728.326287, 5980.912235]
    )
    axs[0,3].set_xticks([2, 3, 4])

    """utilization"""
    # N
    axs[1,0].errorbar(
        [30, 50, 65, 80, 100], [71.061, 73.592, 74.087, 73.659, 74.238], yerr=[1.8965, 1.6425, 1.469, 1.469, 1.4695]
    )
    axs[1,0].set_ylabel('最大设备利用率/%')
    axs[1,0].set_xticks([30, 50, 65, 80, 100])
    # N0
    axs[1,1].errorbar(
        [10, 20, 30, 50, 60], [68.828, 71.305, 74.202, 77.825, 78.165], yerr=[1.46910383,1.46910383,1.46910383,1.642508015,1.896604889]
    )
    axs[1,1].set_xticks([10, 20, 30, 50, 60])
    # T
    axs[1,2].errorbar(
        [100, 200, 300, 400, 500], [74.016, 75.613, 69.266, 74.634, 73.868], yerr=[1.46910383,1.642508015,1.642508015,1.642508015,1.46910383]
    )
    axs[1,2].set_xticks([100, 200, 300, 400, 500])
    # k
    axs[1,3].errorbar(
        [2, 3, 4], [73.256, 73.391, 74.206], yerr=[1.095005343,1.161428555,1.46910383]
    )
    axs[1,3].set_xticks([2, 3, 4])

    """AVGtotaldelay"""
    # N
    axs[2,0].errorbar(
        [30, 50, 65, 80, 100], [59520.166, 52159.858, 52708.172, 40639.389, 40816.029], yerr=[10156.46,8795.7525,7867.16,7867.1605,7867.1605]
    )
    axs[2,0].set_ylabel('平均总拖期/min')
    axs[2,0].set_xticks([30, 50, 65, 80, 100])
    # N0
    axs[2,1].errorbar(
        [10, 20, 30, 50, 60], [28147.213, 33495.456, 59823.734, 69164.124, 58009.790], yerr=[7867.160203,7867.160203,7867.160203,8795.752502,10156.46015]
    )
    axs[2,1].set_xticks([10, 20, 30, 50, 60])
    # T
    axs[2,2].errorbar(
        [100, 200, 300, 400, 500], [62023.997, 75791.542, 29060.834, 44497.626, 30099.579], yerr=[7867.160203,8795.752502,8795.752502,8795.752502,7867.160203]
    )
    axs[2,2].set_xticks([100, 200, 300, 400, 500])
    # k
    axs[2,3].errorbar(
        [2, 3, 4], [49109.435, 45018.550, 51176.913], yerr=[5863.835001,6219.53624,7867.160203]
    )
    axs[2,3].set_xticks([2, 3, 4])

    """AVGutilization"""
    # N
    axs[3,0].errorbar(
        [30, 50, 65, 80, 100], [68.855, 69.325, 71.154, 70.522, 70.856], yerr=[1.8125,1.5695,1.404,1.4035,1.404]
    )
    axs[3,0].set_ylabel('平均设备利用率/%')
    axs[3,0].set_xticks([30, 50, 65, 80, 100])
    # N0
    axs[3,1].errorbar(
        [10, 20, 30, 50, 60], [68.314, 69.115, 70.305, 71.733, 73.640], yerr=[1.403786957,1.403786957,1.403786957,1.569481531,1.812281168]
    )
    axs[3,1].set_xticks([10, 20, 30, 50, 60])
    # T
    axs[3,2].errorbar(
        [100, 200, 300, 400, 500], [69.351, 71.490, 67.793, 71.441, 71.375], yerr=[1.403786957,1.569481531,1.569481531,1.569481531,1.403786957]
    )
    axs[3,2].set_xticks([100, 200, 300, 400, 500])
    # k
    axs[3,3].errorbar(
        [2, 3, 4], [70.103, 70.040, 71.056], yerr=[1.04632102,1.109791033,1.403786957]
    )
    axs[3,3].set_xticks([2, 3, 4])
    axs[3,0].set_xlabel('种群大小')
    axs[3,1].set_xlabel('外部种群大小')
    axs[3,2].set_xlabel('迭代次数')
    axs[3,3].set_xlabel('锦标赛参数')
    plt.savefig("实验.png", format='png')

    plt.show()